<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <style>

            body{overflow-x: hidden;}
            .collection-list .collection-item {
                margin-bottom: 10rem;
                position: relative;
                width: 100%;
            }
            .collection-list .collection-item img {
                width: 100%;
                height: auto;
            }
            .lg.collection-list .collection-col:nth-child(3n-2),
            .xl.collection-list .collection-col:nth-child(3n-2),
            .xxl.collection-list .collection-col:nth-child(3n-2) {
                transform: translateY(10rem);
            }
            .lg.collection-list .collection-col:nth-child(3n-1),
            .xl.collection-list .collection-col:nth-child(3n-1),
            .xxl.collection-list .collection-col:nth-child(3n-1) {
                transform: translateY(5rem);
            }
            .lg.collection-list .collection-col:nth-child(3n),
            .xl.collection-list .collection-col:nth-child(3n),
            .xxl.collection-list .collection-col:nth-child(3n) {
                transform: translateY(15rem);
            }
            .md.collection-list .collection-col:nth-child(2n) {
                transform: translateY(15rem);
            }
            .md.collection-list .collection-col:nth-child(2n-1) {
                transform: translateY(5rem);
            }

        </style>
    </head>
    <body>
<div class="container-fluid collection-list">
    <h1 class="my-5">Gallery of images with asynchronous scrolling columns</h1>
    <div class="">
        <a class="text-body" href="./templates.html">Home</a>
    </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 gx-5">
            <div class="col collection-col" style="transform: translateY(140px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-8355840.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(240px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-10756534.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(80px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-10404279.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(140px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-10757791.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(240px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-11572569.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(80px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12166061.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(140px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12173424.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(240px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12210049.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(80px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12249340.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(140px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12315780.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(240px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12360549.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(80px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12405196.webp">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(140px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12406415.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(240px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-12656616.jpeg">
                </div>
            </div>
            <div class="col collection-col" style="transform: translateY(80px);">
                <div class="collection-item bg-secondary text-center">
                    <img src="demo-images/pexels-photo-10756534.jpeg">
                </div>
            </div>
        </div>

</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>


        var doit;
        $(window).resize(function(){
            clearTimeout(doit);
            doit = setTimeout(afterResize, 200);
        });

        //AFTER RESIZE CALL FUNCTIONS
        function afterResize(){
            screenResolution();
        }


        $(document).ready(screenResolution);
        function screenResolution() {
            var classes,
            breakpoint = getBreakpoint();
            classes = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'];
            $.each(classes, function(index, value){
                if($('body').hasClass(value))
                    $('body').removeClass(value);
            });
            $('body').addClass(breakpoint).trigger('changeResolution');
        }


        function getBreakpoint() {
            var breakpoint,
            width = $(window).width();
            if (width < 576)
                breakpoint = 'xs';
            else if (width < 768)
                breakpoint = 'sm';
            else if (width < 992)
                breakpoint = 'md';
            else if (width < 1200)
                breakpoint = 'lg';
            else if (width < 1400)
                breakpoint = 'xl';
            else
                breakpoint = 'xxl';
            return breakpoint;
        }
 
        function vh(v) {
            var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
            return (v * h) / 100;
        }
        function vw(v) {
            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
            return (v * w) / 100;
        }

        $(document).ready(function(){


	if($('.collection-list').length) {
        
		var cols = $('.collection-col'),
        firstTranslateY = cols.eq(0).css('transform').split(','),
		firstTranslateY = parseInt(firstTranslateY[firstTranslateY.length-1]);
		secondTranslateY = cols.eq(1).css('transform').split(','),
		secondTranslateY = parseInt(secondTranslateY[secondTranslateY.length-1]),
		thirdTranslateY = cols.eq(2).css('transform').split(','),
		thirdTranslateY = parseInt(thirdTranslateY[thirdTranslateY.length-1]);
		$(window).scroll(function () {
			var scroll = parseInt(0.2 * $(window).scrollTop()),
			count = 1;
			cols.each(function() {
				var newtranslateY = 0;
				if($.inArray(getBreakpoint(), ['lg', 'xl', 'xxl']) !== -1) {
					if((count +2) % 3 == 0)
						newtranslateY = firstTranslateY - 1.8 * scroll;
					else if((count +1) % 3 == 0)
						newtranslateY = secondTranslateY - 1 * scroll;
					else 
						newtranslateY = thirdTranslateY - 2.8 * scroll;
					$(this).css('transform', 'translateY('+ newtranslateY +'px)');
				}
				else if($.inArray(getBreakpoint(), ['md']) !== -1) {
					if(count % 2 == 0)
						newtranslateY = secondTranslateY - scroll;
					else 
						newtranslateY = firstTranslateY - 3 * scroll;
					$(this).css('transform', 'translateY('+ newtranslateY +'px)');	
				}
				else {
					$(this).css('transform', 'translateY('+ 0 +'px)');
				}
                count++;
			});
		});
	}
});

    </script>
    </body>
</html> 